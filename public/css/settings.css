/* Styles extracted from settings.html */
:root{--bg:#f7f8fa;--card:#fff;--accent:#007acc;--muted:#6c757d;--danger:#d9534f;--text:#222;--pre-bg:#0f1720;--pre-color:#e6eef6;--input-border:#ddd;--ghost-bg:#eee}
.container{max-width:980px;margin:0 auto}
/* make sizing predictable so padding doesn't cause overflow */
*, *:before, *:after { box-sizing: border-box; }

/* ensure content isn't hidden behind the fixed bar */
.container{padding-bottom:84px}

body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","メイリオ",sans-serif;background:var(--bg);margin:0;padding:24px;color:var(--text)}
h1{font-size:20px;margin:0 0 8px}
.lead{color:var(--muted);margin-bottom:18px}
.grid{display:grid;grid-template-columns:1fr 320px;gap:18px}
.card{background:var(--card);padding:16px;border-radius:8px;box-shadow:0 1px 2px rgba(0,0,0,.04);overflow:hidden}
form .row{display:flex;gap:8px;align-items:center;margin-bottom:12px}
label{min-width:200px;font-size:14px;color:var(--text)}
/* wrapper for input/control so we can constrain width without losing flex behavior */
.field-control{flex:1;display:flex}
input[type="text"], input[type="number"], select, textarea{flex:1;padding:8px;border:1px solid var(--input-border);border-radius:6px;font-size:14px;color:var(--text);background:transparent;max-width:560px}

/* narrower variant for compact fields */
.field-control.compact input[type="text"], .field-control.compact input[type="number"]{max-width:240px}
input[type="checkbox"]{transform:scale(1.05);margin-right:8px}
.desc{font-size:12px;color:var(--muted);margin-top:4px}
.actions{display:flex;gap:8px;align-items:center;margin-top:12px}
button{background:var(--accent);color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer}
.btn-ghost{background:var(--ghost-bg);color:var(--text);border:1px solid transparent}
.status{margin-left:6px;font-size:13px;color:var(--muted)}
/* improved pre/code styles for readability and accessibility */
pre{
	background: var(--pre-bg); /* use theme-aware pre background */
	color: var(--pre-color); /* theme-aware pre text color */
	padding: 14px;
	border-radius: 8px;
	overflow:auto;
	max-height:40vh;
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Segoe UI Mono', 'Noto Mono', monospace;
	font-size:13px;
	line-height:1.45;
	white-space:pre-wrap; /* allow wrapping long lines */
	word-break:break-word;
}
pre:focus{ outline: 3px solid rgba(77,163,255,0.35); outline-offset:2px; }
code{ background: rgba(255,255,255,0.03); padding:2px 6px; border-radius:4px; font-family: inherit; }
.warning{color:var(--danger);font-size:13px}
.field-group{border-top:1px dashed #eee;padding-top:12px;margin-top:12px}
.small{font-size:13px;color:var(--muted)}
.full-width{grid-column:1 / -1}
@media(max-width:880px){ .grid{grid-template-columns:1fr} label{min-width:140px} }

/* Mobile-specific improvements */
@media (max-width:600px) {
	body { padding: 12px; }
	.container { padding: 0 6px; }
	/* stack label above input for easier reading */
	form .row { flex-direction: column; align-items: stretch; gap: 6px; }
	label { min-width: 0; width: 100%; font-size: 15px; }
	input[type="text"], input[type="number"], select, textarea { width: 100%; }
	.actions { flex-direction: column; align-items: stretch; }
	.actions button, .actions .btn-ghost { width: 100%; padding: 12px; font-size: 15px; box-sizing: border-box; }
	.header-row { flex-direction: column; align-items: flex-start; gap: 8px; }
	.header-actions { width: 100%; display:flex; justify-content: flex-end; flex-wrap:wrap; gap:8px }
	.card { padding: 12px; }
	pre { font-size: 12px; padding: 10px; }
}

/* moved from inline attributes in settings.html */
hr { margin: 12px 0; }
#raw { display: none; }

/* Dark theme variables (applied when root has data-theme="dark") */
:root[data-theme="dark"]{
	--bg:#0b0d0f;
	--card:#121416;
	--accent:#4da3ff;
	--muted:#9fb3bf; /* slightly lighter muted color for readability */
	--danger:#ff6b6b;
	/* theme text color: brighter on dark background */
	--text:#e6eef6;
	/* adjust pre background and text for dark theme to keep good contrast */
	--pre-bg: #0b0f14;
	--pre-color: #e6eef6;
	/* input and ghost button adjustments for dark */
	--input-border: rgba(255,255,255,0.06);
	--ghost-bg: rgba(255,255,255,0.03);
}

/* simple transition for theme change */
body, .card, pre { transition: background-color 220ms ease, color 220ms ease, box-shadow 220ms ease; }

/* layout helpers used in settings.html header */
.header-row{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:12px}
.header-actions{display:flex;align-items:center;gap:8px;margin-left:auto}
/* tighten theme control spacing */
.header-actions button{margin-left:0}
/* ensure header buttons don't touch the card below */
.lead{margin-bottom:12px}
.no-margin{margin:0}

/* fixed save bar */
.fixed-bar{position:fixed;left:0;right:0;bottom:0;background:var(--card);box-shadow:0 -6px 18px rgba(0,0,0,0.08);padding:10px 12px;z-index:60}
.fixed-bar-inner{max-width:980px;margin:0 auto;display:flex;gap:8px;align-items:center;justify-content:flex-end}
.fixed-bar .btn-primary{background:var(--accent);color:#fff;border:none;padding:10px 16px;border-radius:6px}
.fixed-bar .btn-ghost{background:var(--ghost-bg);color:var(--text);border:1px solid transparent}
.fixed-bar .status{margin-left:10px;color:var(--muted)}

@media (max-width:600px){
	.fixed-bar-inner{padding:0 6px;gap:6px}
	.fixed-bar .btn-primary{flex:1}
	.fixed-bar .btn-ghost{flex:1}
}
